## item76 가능한 한 실패 원자적으로 만들라

### 실패 원자적(failure-atomic)이란?
- 호출된 메서드가 실패 하더라도 해당 객체는 메서드 호출 전 상태를 유지해야 하는 특성을 말한다

### 객체를 실패 원자적으로 만드는 방법
1. 불변 객체 사용하기
2. 메서드 사용에 앞서 유효성을 검사하기 
3. 객체의 임시 복사본에서 작업을 수행한 다음, 작업이 성공적으로 완료되면 원래 객체와 교체하기
   - 리스트를 배열로 변경하여 비즈니스 로직을 수행하는 경우를 예로 들 수 있다
4. 작업 도중 발생하는 실패를 가로채는 복구 코드 작성하기
   - 자주 쓰이는 방법은 아니나, 내구성을 보장하는 자료구조에서 사용된다

### 실패 원자성은 항상 달성할 수는 없다?
- 동시성이 요구되는 객체의 경우를 예로 들 수가 있다. 
- 동시성 요청을 받은 객체를 수정한다면 객체의 일관성을 깨뜨릴 수 있으며, 예외를 잡아냈다고 하더라도 객체가 온전한 상태임을 보장할 수 없다

