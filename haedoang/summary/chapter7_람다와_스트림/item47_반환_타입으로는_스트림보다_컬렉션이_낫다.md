## item47 반환 타입으로는 스트림보다 컬렉션이 낫다

### 스트림은 반복을 지원하지 않는다
- Stream 인터페이스는 Iterable 인터페이스가 정의한 추상 메서드를 전부 포함할 뿐 아니라, Iterable 인터페이스가 정의한 방식대로 동작한다.
- Stream 은 Iterable을 확장하지 않았기 때문에 반복할 수 없다

### 원소 시퀀스를 반환하는 공개 API의 반환 타입에는 Collection이나 그 하위 타입을 반환하는 것이 최선이다
- 덩치 큰 시퀀스를 메모리에 올려야 하는 경우에는 `AbstractList`와 같이 비트 필드를 사용한 컬렉션을 사용하는 편이 좋다


### 정리
- 원소 시퀀스를 반환하는 메서드를 작성할 때에는 스트림으로 처리하기를 원하는 사용자와 반복으로 처리하기를 원하는 사용자가 있음을 떠올리자
  - 컬렉션을 반환할 수 있는 경우 컬렉션을 반환하는 편이 낫다
- 원소 리스트 내 원소 개수가 적다면 `ArrayList` 같이 표준 컬렉션을 사용하고, 그렇지 않은 경우 `전용 컬렉션`을 사용하자
  - 덩치 큰 원소 시퀀스를 가지는 컬렉션은 비효율적이다
- 컬렉션을 반환하는 것이 불가능하다면 스트림과 Iterable 중 더 자연스러운 것을 반환하라